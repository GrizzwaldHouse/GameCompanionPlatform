<UserControl x:Class="ArcadiaTracker.App.Views.SaveInspectorView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="900">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel>
            <!-- Header -->
            <TextBlock Text="Save Inspector" Style="{StaticResource HeaderTextStyle}" Margin="0,0,0,8"/>
            <TextBlock Text="Deep dive into your save file â€” hidden stats, internal counters, and data the game tracks behind the scenes"
                       Style="{StaticResource SubheaderTextStyle}"
                       TextWrapping="Wrap" Margin="0,0,0,24"/>

            <!-- Save File Info -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="SAVE FILE" FontSize="11"
                               Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,12"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock x:Name="SavePathText" Text="No save loaded"
                                       Foreground="{StaticResource TextPrimaryBrush}" FontWeight="SemiBold"/>
                            <TextBlock x:Name="SaveSizeText" Text=""
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                        </StackPanel>
                        <Button x:Name="RefreshButton" Grid.Column="1"
                                Content="â†» Refresh"
                                Style="{StaticResource SecondaryButtonStyle}"
                                Padding="8,4" FontSize="11"
                                Click="RefreshButton_Click"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Header Section -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="ðŸ“‹ Save Header" FontSize="16" FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>
                    <ItemsControl x:Name="HeaderFieldsList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Grid Margin="0,0,0,6">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="180"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="{Binding Key}"
                                               Foreground="{StaticResource TextSecondaryBrush}"
                                               FontSize="12"/>
                                    <TextBlock Grid.Column="1" Text="{Binding Value}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               FontWeight="SemiBold" FontSize="12"
                                               TextTrimming="CharacterEllipsis"/>
                                </Grid>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>

            <!-- Player Stats -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="ðŸ“Š Player Statistics" FontSize="16" FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>
                    <UniformGrid Columns="3">
                        <Border Margin="0,0,8,8" Padding="12,8" CornerRadius="6"
                                Background="{StaticResource SurfaceLightBrush}">
                            <StackPanel>
                                <TextBlock Text="PLAYTIME" FontSize="10"
                                           Foreground="{StaticResource TextMutedBrush}"/>
                                <TextBlock x:Name="InspPlaytime" Text="â€”"
                                           FontSize="20" FontWeight="Bold"
                                           Foreground="{StaticResource PrimaryBrush}"/>
                            </StackPanel>
                        </Border>
                        <Border Margin="0,0,8,8" Padding="12,8" CornerRadius="6"
                                Background="{StaticResource SurfaceLightBrush}">
                            <StackPanel>
                                <TextBlock Text="DATA POINTS" FontSize="10"
                                           Foreground="{StaticResource TextMutedBrush}"/>
                                <TextBlock x:Name="InspDataPoints" Text="â€”"
                                           FontSize="20" FontWeight="Bold"
                                           Foreground="{StaticResource SecondaryBrush}"/>
                            </StackPanel>
                        </Border>
                        <Border Margin="0,0,0,8" Padding="12,8" CornerRadius="6"
                                Background="{StaticResource SurfaceLightBrush}">
                            <StackPanel>
                                <TextBlock Text="INVENTORY SLOTS" FontSize="10"
                                           Foreground="{StaticResource TextMutedBrush}"/>
                                <TextBlock x:Name="InspInventorySlots" Text="â€”"
                                           FontSize="20" FontWeight="Bold"
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                            </StackPanel>
                        </Border>
                    </UniformGrid>
                </StackPanel>
            </Border>

            <!-- Corporations Deep Dive -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="ðŸ¢ Corporation Details" FontSize="16" FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>
                    <ItemsControl x:Name="CorporationDetailsList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,0,0,8" Padding="12,10" CornerRadius="8"
                                        Background="{StaticResource SurfaceLightBrush}">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Name}"
                                                       Foreground="{StaticResource TextPrimaryBrush}"
                                                       FontWeight="SemiBold"/>
                                            <TextBlock Text="{Binding InternalId}"
                                                       Foreground="{StaticResource TextMutedBrush}"
                                                       FontSize="10"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Margin="16,0" VerticalAlignment="Center">
                                            <TextBlock Text="LEVEL" FontSize="9"
                                                       Foreground="{StaticResource TextMutedBrush}"/>
                                            <TextBlock Text="{Binding Level}"
                                                       Foreground="{StaticResource PrimaryBrush}"
                                                       FontWeight="Bold"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="2" Margin="16,0" VerticalAlignment="Center">
                                            <TextBlock Text="XP" FontSize="9"
                                                       Foreground="{StaticResource TextMutedBrush}"/>
                                            <TextBlock Text="{Binding XP}"
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       FontWeight="SemiBold"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="3" Margin="16,0,0,0" VerticalAlignment="Center">
                                            <TextBlock Text="XP/LEVEL" FontSize="9"
                                                       Foreground="{StaticResource TextMutedBrush}"/>
                                            <TextBlock Text="{Binding XPPerLevel}"
                                                       Foreground="{StaticResource WarningBrush}"
                                                       FontWeight="SemiBold"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>

            <!-- Internal Counters -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="ðŸ” Internal Counters" FontSize="16" FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>
                    <ItemsControl x:Name="InternalCountersList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Grid Margin="0,0,0,6">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="220"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="{Binding Key}"
                                               Foreground="{StaticResource TextSecondaryBrush}" FontSize="12"/>
                                    <TextBlock Grid.Column="1" Text="{Binding Value}"
                                               Foreground="{StaticResource PrimaryBrush}"
                                               FontWeight="SemiBold" FontSize="12"/>
                                </Grid>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>

            <!-- Raw JSON Preview -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="ðŸ“ Raw Save Structure" FontSize="16" FontWeight="SemiBold"
                                   Foreground="{StaticResource TextPrimaryBrush}"/>
                        <Button x:Name="CopyJsonButton" Grid.Column="1"
                                Content="Copy JSON"
                                Style="{StaticResource SecondaryButtonStyle}"
                                Padding="8,4" FontSize="11"
                                Click="CopyJsonButton_Click"/>
                    </Grid>
                    <Border Background="{StaticResource BackgroundBrush}"
                            CornerRadius="6" Padding="12" MaxHeight="300">
                        <ScrollViewer VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Auto">
                            <TextBlock x:Name="RawJsonText"
                                       Text="Load a save to view raw structure..."
                                       Foreground="{StaticResource TextMutedBrush}"
                                       FontFamily="Consolas" FontSize="11"
                                       TextWrapping="NoWrap"/>
                        </ScrollViewer>
                    </Border>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>
